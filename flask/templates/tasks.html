{% extends "base.html" %}

{% block content %}
<h4>Running tasks</h4>
<table class="mdl-data-table mdl-shadow--2dp">
    <thead>
        <tr>
            <th class="mdl-data-table__cell--non-numeric">ID</th>
            <th class="mdl-data-table__cell--non-numeric">Status</th>
            <th class="mdl-data-table__cell--non-numeric">Type</th>
            <th class="mdl-data-table__cell--non-numeric">Path</th>
            <th class="mdl-data-table__cell--non-numeric">Result</th>
        </tr>
    </thead>
    <tbody>
        {% for task in tasks %}
        {% if tasks[task].status == "waiting" or tasks[task].status == "running" %}
        <tr>
            <td class="mdl-data-table__cell--non-numeric">{{ tasks[task].id }}</td>
            <td class="mdl-data-table__cell--non-numeric">{{ tasks[task].status }}</td>
            <td class="mdl-data-table__cell--non-numeric">{{ tasks[task].type }}</td>
            <td class="mdl-data-table__cell--non-numeric">{{ tasks[task].path }}</td>
            <td class="mdl-data-table__cell--non-numeric">{{ tasks[task].result }}</td>
        </tr>
        {% endif %}
        {% endfor %}
    </tbody>
</table>
<h4>Old tasks</h4>
<table class="mdl-data-table mdl-shadow--2dp">
    <thead>
        <tr>
            <th class="mdl-data-table__cell--non-numeric">ID</th>
            <th class="mdl-data-table__cell--non-numeric">Status</th>
            <th class="mdl-data-table__cell--non-numeric">Type</th>
            <th class="mdl-data-table__cell--non-numeric">Path</th>
            <th class="mdl-data-table__cell--non-numeric">Result</th>
        </tr>
    </thead>
    <tbody>
        {% for task in tasks %}
        {% if tasks[task].status != "waiting" and tasks[task].status != "running" %}
        <tr>
            <td class="mdl-data-table__cell--non-numeric">{{ tasks[task].id }}</td>
            <td class="mdl-data-table__cell--non-numeric">{{ tasks[task].status }}</td>
            <td class="mdl-data-table__cell--non-numeric">{{ tasks[task].type }}</td>
            <td class="mdl-data-table__cell--non-numeric">{{ tasks[task].path }}</td>
            <td class="mdl-data-table__cell--non-numeric">{{ tasks[task].result }}</td>
        </tr>
        {% endif %}
        {% endfor %}
    </tbody>
</table>
{% endblock %}
